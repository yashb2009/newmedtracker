import 'package:flutter/material.dart';
import 'package:image_picker/image_picker.dart';
import 'package:google_mlkit_text_recognition/google_mlkit_text_recognition.dart';
import 'dart:io';
import '../models/item_model.dart';
import 'package:uuid/uuid.dart';

class NewElementScreen extends StatefulWidget {
  @override
  State<NewElementScreen> createState() => _NewElementScreenState();
}

class _NewElementScreenState extends State<NewElementScreen> {
  File? _selectedImage;
  final _picker = ImagePicker();
  final _descriptionController = TextEditingController();
  final _categoryController = TextEditingController(text: '');
  final _styleController = TextEditingController(text: '');
  final _valuationController = TextEditingController(text: '');
  final _textRecognizer = TextRecognizer(script: TextRecognitionScript.latin);

  Future<void> _showImageSourceDialog() async {
    await showDialog(
      context: context,
      builder: (ctx) => AlertDialog(
        title: Text('Choose image source'),
        content: Column(
          mainAxisSize: MainAxisSize.min,
          children: [
            ListTile(
              leading: Icon(Icons.photo_library),
              title: Text('Photo Gallery'),
              onTap: () {
                Navigator.of(ctx).pop();
                _pickImage(ImageSource.gallery);
              },
            ),
            ListTile(
              leading: Icon(Icons.camera_alt),
              title: Text('Camera'),
              onTap: () {
                Navigator.of(ctx).pop();
                _pickImage(ImageSource.camera);
              },
            ),
          ],
        ),
      ),
    );
  }

  Future<void> _extractTextFromImage(File imageFile) async {
    try {
      final inputImage = InputImage.fromFilePath(imageFile.path);
      final recognizedText = await _textRecognizer.processImage(inputImage);

      if (recognizedText.text.isNotEmpty) {
        setState(() {
          _descriptionController.text = recognizedText.text;
        });
      }
    } catch (e) {
      print('Error extracting text: $e');
    }
  }

  Future<void> _pickImage(ImageSource source) async {
    final pickedFile = await _picker.pickImage(source: source);
    if (pickedFile != null) {
      final imageFile = File(pickedFile.path);
      setState(() {
        _selectedImage = imageFile;
      });
      await _extractTextFromImage(imageFile);
    }
  }

  void _showValidationAlert() {
    showDialog(
      context: context,
      builder: (ctx) => AlertDialog(
        title: Text('Required Fields'),
        content: Text('Please select an image and enter a description.'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(ctx).pop(),
            child: Text('OK'),
          ),
        ],
      ),
    );
  }

  void _saveItem() {
    if (_selectedImage == null || _descriptionController.text.trim().isEmpty) {
      _showValidationAlert();
      return;
    }

    // Check description for tablet/take keywords
    String description = _descriptionController.text.trim();
    String style = _styleController.text;
    String category = _categoryController.text;
    String valuation = _valuationController.text;

    // Split description into lines and check each line
    List<String> lines = description.split('\n');
    for (String line in lines) {
      String lowercaseLine = line.toLowerCase();
      if (lowercaseLine.contains('tablet') || lowercaseLine.contains('take')) {
        style = line.trim();
        break;
      }
    }

    for (String line in lines) {
      String lowercaseLine = line.toLowerCase();
      if(lowercaseLine.contains('0') || //lowercaseLine.contains('1') || lowercaseLine.contains('2') || lowercaseLine.contains('3') || lowercaseLine.contains('4') ||
         lowercaseLine.contains('5'))
         //lowercaseLine.contains('6') || lowercaseLine.contains('7') || lowercaseLine.contains('8') || lowercaseLine.contains('9'))
      {
        int index;
        if(lowercaseLine.contains('0'))
        {
          index = lowercaseLine.indexOf('0');
        }

        else
        {
          index = lowercaseLine.indexOf('5');
        }

        if(lowercaseLine.contains('m') && lowercaseLine.indexOf('m', index) - index < 4)
        {
          int index2 = 0;
          for(int i = 0; i < lowercaseLine.length; i++)
          {
            if(i > index)
            {
              break;
            }

            if(lowercaseLine[i] == ' ')
            {
              index2 = i;
            }
          }
          valuation = line.substring(index2 + 1);
          break;
        }
      }
    }

    List<String> meds = [
        "abacavir",
        "abaloparatide",
        "abatacept",
        "abemaciclib",
        "abiraterone",
        "abobotulinumtoxina",
        "abrocitinib",
        "absorbable",
        "acalabrutinib",
        "acamprosate",
        "acarbose",
        "acebutolol",
        "acenocoumarol",
        "acetaminophen",
        "acetazolamide",
        "acetic",
        "acetohydroxamic",
        "acetylcholine",
        "acetylcysteine",
        "acitretin",
        "aclidinium",
        "acoramidis",
        "activated",
        "acyclovir",
        "adagrasib",
        "adalimumab",
        "adamts13",
        "adapalene",
        "adefovir",
        "adenosine",
        "adenovirus",
        "adjuvanted",
        "ado-trastuzumab",
        "aducanumab",
        "afamelanotide",
        "afamitresgene",
        "afatinib",
        "aflibercept",
        "agalsidase",
        "air",
        "albendazole",
        "albumin",
        "albuterol",
        "alcaftadine",
        "alclometasone",
        "aldesleukin",
        "alectinib",
        "alemtuzumab",
        "alendronate",
        "alfacalcidol",
        "alfentanil",
        "alfuzosin",
        "alglucosidase",
        "alirocumab",
        "aliskiren",
        "alitretinoin",
        "allopurinol",
        "all-trans",
        "almotriptan",
        "alogliptin",
        "alosetron",
        "alpelisib",
        "alpha-1",
        "alprazolam",
        "alprostadil",
        "alteplase",
        "alum",
        "aluminum",
        "alvimopan",
        "amantadine",
        "ambrisentan",
        "amcinonide",
        "amifampridine",
        "amifostine",
        "amikacin",
        "amiloride",
        "amino",
        "aminocaproic",
        "aminolevulinic",
        "aminophylline",
        "amiodarone",
        "amisulpride",
        "amitriptyline",
        "amivantamab",
        "amlodipine",
        "ammonium",
        "amobarbital",
        "amoxapine",
        "amoxicillin",
        "amphetamine",
        "amphotericin",
        "ampicillin",
        "amyl",
        "anacaulase",
        "anagrelide",
        "anakinra",
        "anastrozole",
        "andexanet",
        "anidulafungin",
        "anifrolumab",
        "ansuvimab",
        "anthralin",
        "anthrax",
        "anticoagulant",
        "anti-d",
        "antiseptic",
        "antithrombin",
        "antithymocyte",
        "apalutamide",
        "apixaban",
        "apomorphine",
        "apraclonidine",
        "apremilast",
        "aprepitant",
        "aprocitentan",
        "arformoterol",
        "argatroban",
        "arginine",
        "arimoclomol",
        "aripiprazole",
        "armodafinil",
        "aromatic",
        "arsenic",
        "artemether",
        "artesunate",
        "articaine",
        "artificial",
        "asciminib",
        "asenapine",
        "asfotase",
        "aspirin",
        "atazanavir",
        "atenolol",
        "atezolizumab",
        "atidarsagene",
        "atogepant",
        "atoltivimab",
        "atomoxetine",
        "atorvastatin",
        "atovaquone",
        "atracurium",
        "atropine",
        "auranofin",
        "avacincaptad",
        "avacopan",
        "avalglucosidase",
        "avanafil",
        "avapritinib",
        "avatrombopag",
        "avelumab",
        "avian",
        "axatilimab",
        "axicabtagene",
        "axitinib",
        "azacitidine",
        "azathioprine",
        "azelaic",
        "azelastine",
        "azilsartan",
        "azithromycin",
        "aztreonam",
        "bacillus",
        "bacitracin",
        "baclofen",
        "balanced",
        "baloxavir",
        "balsalazide",
        "balsam",
        "baricitinib",
        "barium",
        "basiliximab",
        "bazedoxifene",
        "beano",
        "becaplermin",
        "beclomethasone",
        "bedaquiline",
        "belantamab",
        "belatacept",
        "belimumab",
        "belinostat",
        "belladonna",
        "belumosudil",
        "belzutifan",
        "bempedoic",
        "benazepril",
        "bendamustine",
        "benralizumab",
        "bentoquatam",
        "benzalkonium",
        "benzgalantamine",
        "benzhydrocodone",
        "benznidazole",
        "benzocaine",
        "benzoin",
        "benzonatate",
        "benzoyl",
        "benzphetamine",
        "benztropine",
        "benzydamine",
        "benzyl",
        "benzylpenicilloyl",
        "bepotastine",
        "beractant",
        "berdazimer",
        "beremagene",
        "berotralstat",
        "besifloxacin",
        "beta-carotene",
        "betahistine",
        "betaine",
        "betamethasone",
        "betaxolol",
        "bethanechol",
        "betibeglogene",
        "bevacizumab",
        "bexagliflozin",
        "bexarotene",
        "bezafibrate",
        "bezlotoxumab",
        "bicalutamide",
        "bictegravir",
        "bilastine",
        "bimatoprost",
        "bimekizumab",
        "binimetinib",
        "biotin",
        "birch",
        "bisacodyl",
        "bismuth",
        "bisoprolol",
        "bivalirudin",
        "black",
        "bleomycin",
        "blinatumomab",
        "boric",
        "bortezomib",
        "bosentan",
        "bosutinib",
        "botulism",
        "bovine",
        "bremelanotide",
        "brentuximab",
        "brexanolone",
        "brexpiprazole",
        "brexucabtagene",
        "brigatinib",
        "brilliant",
        "brimonidine",
        "brincidofovir",
        "brinzolamide",
        "brivaracetam",
        "brodalumab",
        "brolucizumab",
        "bromazepam",
        "bromfenac",
        "bromocriptine",
        "brompheniramine",
        "budesonide",
        "bumetanide",
        "bupivacaine",
        "buprenorphine",
        "bupropion",
        "burosumab",
        "buserelin",
        "buspirone",
        "butabarbital",
        "butalbital",
        "butenafine",
        "butoconazole",
        "butorphanol",
        "c1",
        "c-11",
        "cabazitaxel",
        "cabergoline",
        "cabotegravir",
        "cabozantinib",
        "caffeine",
        "calamine",
        "calaspargase",
        "calcifediol",
        "calcipotriene",
        "calcipotriol",
        "calcitonin",
        "calcitriol",
        "calcium",
        "calfactant",
        "camphor",
        "canagliflozin",
        "canakinumab",
        "candesartan",
        "candida",
        "cangrelor",
        "cannabidiol",
        "cantharidin",
        "capecitabine",
        "capivasertib",
        "caplacizumab",
        "capmatinib",
        "capreomycin",
        "capsaicin",
        "captopril",
        "carbachol",
        "carbamazepine",
        "carbamide",
        "carbetocin",
        "carbidopa",
        "carbinoxamine",
        "carboplatin",
        "carboprost",
        "carboxymethylcellulose",
        "carfilzomib",
        "carglumic",
        "cariprazine",
        "carisoprodol",
        "carmustine",
        "carnitine",
        "carteolol",
        "carvedilol",
        "casimersen",
        "caspofungin",
        "castor",
        "cefaclor",
        "cefadroxil",
        "cefazolin",
        "cefdinir",
        "cefepime",
        "cefiderocol",
        "cefixime",
        "cefotaxime",
        "cefotetan",
        "cefoxitin",
        "cefpodoxime",
        "cefprozil",
        "ceftaroline",
        "ceftazidime",
        "ceftibuten",
        "ceftobiprole",
        "ceftolozane",
        "ceftriaxone",
        "cefuroxime",
        "celecoxib",
        "cellulose",
        "cemiplimab",
        "cenegermin",
        "cenobamate",
        "centruroides",
        "cephalexin",
        "ceritinib",
        "certolizumab",
        "cetirizine",
        "cetrorelix",
        "cetuximab",
        "cetylpyridinium",
        "cevimeline",
        "chenodeoxycholic",
        "chikungunya",
        "chlophedianol",
        "chloral",
        "chlorambucil",
        "chloramphenicol",
        "chlordiazepoxide",
        "chlorhexidine",
        "chlorophyll",
        "chloroprocaine",
        "chloroquine",
        "chlorothiazide",
        "chlorpheniramine",
        "chlorpromazine",
        "chlorthalidone",
        "chlorzoxazone",
        "cholestyramine",
        "cholic",
        "chondroitin",
        "chromium",
        "ciclesonide",
        "ciclopirox",
        "cidofovir",
        "cilazapril",
        "cilostazol",
        "ciltacabtagene",
        "cimetidine",
        "cinacalcet",
        "cipaglucosidase",
        "ciprofloxacin",
        "cisapride",
        "cisatracurium",
        "cisplatin",
        "citalopram",
        "citric",
        "cladribine",
        "clarithromycin",
        "clascoterone",
        "clemastine",
        "clevidipine",
        "clidinium",
        "clindamycin",
        "clioquinol",
        "clobazam",
        "clobetasol",
        "clobetasone",
        "clocortolone",
        "clodronate",
        "clofarabine",
        "clofazimine",
        "clofedanol",
        "clomiphene",
        "clomipramine",
        "clonazepam",
        "clonidine",
        "clopidogrel",
        "clorazepate",
        "clotrimazole",
        "cloxacillin",
        "clozapine",
        "coal",
        "cobicistat",
        "cobimetinib",
        "coccidioides",
        "codeine",
        "colchicine",
        "colesevelam",
        "colestipol",
        "colistin",
        "collagen",
        "collagenase",
        "combined",
        "concizumab",
        "conivaptan",
        "conjugated",
        "continuous",
        "contraceptive",
        "conventional",
        "copanlisib",
        "copper",
        "corticorelin",
        "corticotropin",
        "cortisone",
        "cosibelimab",
        "cosyntropin",
        "covid-19",
        "cpg-adjuvanted",
        "crinecerfont",
        "crisaborole",
        "crizanlizumab",
        "crizotinib",
        "crofelemer",
        "cromolyn",
        "crotalinae",
        "crotamiton",
        "crovalimab",
        "cyanocobalamin",
        "cyclobenzaprine",
        "cyclopentolate",
        "cyclophosphamide",
        "cycloserine",
        "cyclosporine",
        "cyproheptadine",
        "cyproterone",
        "cysteamine",
        "cysteine",
        "cytarabine",
        "cytomegalovirus",
        "dabigatran",
        "dabrafenib",
        "dacarbazine",
        "dacomitinib",
        "dactinomycin",
        "dalbavancin",
        "dalfampridine",
        "dalteparin",
        "danaparoid",
        "danazol",
        "danicopan",
        "dantrolene",
        "dapagliflozin",
        "daprodustat",
        "dapsone",
        "daptomycin",
        "daratumumab",
        "darbepoetin",
        "daridorexant",
        "darifenacin",
        "darolutamide",
        "darunavir",
        "dasatinib",
        "dasiglucagon",
        "datopotamab",
        "daunorubicin",
        "daxibotulinumtoxina",
        "decitabine",
        "deferasirox",
        "deferiprone",
        "deferoxamine",
        "defibrotide",
        "deflazacort",
        "degarelix",
        "delafloxacin",
        "delandistrogene",
        "demeclocycline",
        "dengvaxia",
        "denileukin",
        "denosumab",
        "deodorized",
        "deoxycholic",
        "dequalinium",
        "desflurane",
        "desipramine",
        "desirudin",
        "desloratadine",
        "desmopressin",
        "desonide",
        "desoximetasone",
        "desvenlafaxine",
        "deucravacitinib",
        "deuruxolitinib",
        "deutetrabenazine",
        "dexamethasone",
        "dexbrompheniramine",
        "dexchlorpheniramine",
        "dexlansoprazole",
        "dexmedetomidine",
        "dexmethylphenidate",
        "dexrazoxane",
        "dextran",
        "dextranomer",
        "dextroamphetamine",
        "dextromethorphan",
        "dextrose",
        "diacetylmorphine",
        "diatrizoate",
        "diazepam",
        "diazoxide",
        "dibucaine",
        "dichlorphenamide",
        "diclofenac",
        "dicloxacillin",
        "dicyclomine",
        "didanosine",
        "dienogest",
        "diethylcarbamazine",
        "diethylene",
        "diethylpropion",
        "difelikefalin",
        "difenoxin",
        "diflorasone",
        "diflucortolone",
        "diflunisal",
        "difluprednate",
        "digoxin",
        "dihydroergotamine",
        "diltiazem",
        "dimenhydrinate",
        "dimercaprol",
        "dimercaptosuccinic",
        "dimethicone",
        "dimethyl",
        "dinoprostone",
        "dinutuximab",
        "diphenhydramine",
        "diphenoxylate",
        "diphtheria",
        "dipyridamole",
        "diroximel",
        "disopyramide",
        "disulfiram",
        "dobutamine",
        "docetaxel",
        "docosanol",
        "docusate",
        "dofetilide",
        "dolasetron",
        "dolutegravir",
        "domperidone",
        "donanemab",
        "donepezil",
        "donislecel",
        "donor",
        "dopamine",
        "doravirine",
        "dornase",
        "dorzolamide",
        "dostarlimab",
        "doxapram",
        "doxazosin",
        "doxepin",
        "doxercalciferol",
        "doxorubicin",
        "doxycycline",
        "doxylamine",
        "dronabinol",
        "dronedarone",
        "droperidol",
        "drospirenone",
        "droxidopa",
        "dulaglutide",
        "duloxetine",
        "dupilumab",
        "durvalumab",
        "dutasteride",
        "duvelisib",
        "dyclonine",
        "ebola",
        "ecallantide",
        "echothiophate",
        "econazole",
        "eculizumab",
        "edaravone",
        "edetate",
        "edoxaban",
        "edrophonium",
        "efavirenz",
        "efbemalenograstim",
        "efgartigimod",
        "efinaconazole",
        "eflapegrastim",
        "eflornithine",
        "elacestrant",
        "eladocagene",
        "elafibranor",
        "elagolix",
        "elapegademase",
        "elbasvir",
        "eletriptan",
        "elexacaftor",
        "eliglustat",
        "elivaldogene",
        "elosulfase",
        "elotuzumab",
        "elranatamab",
        "eltrombopag",
        "eluxadoline",
        "elvitegravir",
        "emapalumab",
        "emicizumab",
        "emollients",
        "empagliflozin",
        "emtricitabine",
        "enalapril",
        "enalaprilat",
        "enasidenib",
        "encorafenib",
        "enfortumab",
        "enfuvirtide",
        "enoxaparin",
        "ensartinib",
        "ensifentrine",
        "entacapone",
        "entecavir",
        "entrectinib",
        "enzalutamide",
        "epcoritamab",
        "ephedrine",
        "epinastine",
        "epinephrine",
        "epirubicin",
        "eplerenone",
        "eplontersen",
        "epoetin",
        "epoprostenol",
        "eprosartan",
        "eptifibatide",
        "eptinezumab",
        "equine",
        "eravacycline",
        "erdafitinib",
        "erenumab",
        "ergoloid",
        "ergonovine",
        "ergotamine",
        "eribulin",
        "erlotinib",
        "ertapenem",
        "ertugliflozin",
        "erwinia",
        "erythromycin",
        "escitalopram",
        "esketamine",
        "eslicarbazepine",
        "esmolol",
        "esomeprazole",
        "estazolam",
        "esterified",
        "estetrol",
        "estradiol",
        "estramustine",
        "estrone",
        "eszopiclone",
        "etanercept",
        "etelcalcetide",
        "eteplirsen",
        "ethacrynic",
        "ethambutol",
        "ethanol",
        "ethanolamine",
        "ethinyl",
        "ethionamide",
        "ethopropazine",
        "ethosuximide",
        "ethyl",
        "etodolac",
        "etomidate",
        "etonogestrel",
        "etoposide",
        "etranacogene",
        "etrasimod",
        "etravirine",
        "everolimus",
        "evinacumab",
        "evolocumab",
        "exagamglogene",
        "exemestane",
        "exenatide",
        "ezetimibe",
        "factor",
        "famciclovir",
        "famotidine",
        "fam-trastuzumab",
        "faricimab",
        "febuxostat",
        "fecal",
        "fedratinib",
        "felbamate",
        "felodipine",
        "fenfluramine",
        "fenofibrate",
        "fenoldopam",
        "fenoprofen",
        "fentanyl",
        "ferric",
        "ferrous",
        "ferumoxytol",
        "fesoterodine",
        "fexinidazole",
        "fexofenadine",
        "fezolinetant",
        "fibrin",
        "fibrinogen",
        "fidanacogene",
        "fidaxomicin",
        "filgrastim",
        "finasteride",
        "finerenone",
        "fingolimod",
        "five-grass",
        "flavoxate",
        "flecainide",
        "flibanserin",
        "florbetaben",
        "florbetapir",
        "flortaucipir",
        "flotufolastat",
        "floxuridine",
        "fluciclovine",
        "fluconazole",
        "flucytosine",
        "fludarabine",
        "fludeoxyglucose",
        "fludrocortisone",
        "flumazenil",
        "flunarizine",
        "flunisolide",
        "fluocinolone",
        "fluocinonide",
        "fluorescein",
        "fluoride",
        "fluorodopa",
        "fluoroestradiol",
        "fluorometholone",
        "fluorouracil",
        "fluoxetine",
        "flupentixol",
        "fluphenazine",
        "flurandrenolide",
        "flurazepam",
        "flurbiprofen",
        "flurpiridaz",
        "flutamide",
        "flutemetamol",
        "fluticasone",
        "fluvastatin",
        "fluvoxamine",
        "folic",
        "follitropin",
        "fomepizole",
        "fondaparinux",
        "formoterol",
        "fosamprenavir",
        "fosaprepitant",
        "foscarnet",
        "fosdenopterin",
        "fosfomycin",
        "fosinopril",
        "foslevodopa",
        "fosnetupitant",
        "fosphenytoin",
        "fostamatinib",
        "fostemsavir",
        "framycetin",
        "fremanezumab",
        "fresh",
        "frovatriptan",
        "fructose",
        "fruquintinib",
        "fulvestrant",
        "furosemide",
        "fusidic",
        "futibatinib",
        "gabapentin",
        "gadobenate",
        "gadobutrol",
        "gadodiamide",
        "gadopentetate",
        "gadopiclenol",
        "gadoterate",
        "gadoteridol",
        "gadoxetate",
        "galantamine",
        "galcanezumab",
        "gallium",
        "galsulfase",
        "ganaxolone",
        "ganciclovir",
        "ganirelix",
        "gatifloxacin",
        "gefitinib",
        "gemcitabine",
        "gemfibrozil",
        "gemtuzumab",
        "gentamicin",
        "gentian",
        "gepirone",
        "gilteritinib",
        "givinostat",
        "givosiran",
        "glasdegib",
        "glatiramer",
        "glecaprevir",
        "gliclazide",
        "glimepiride",
        "glipizide",
        "glofitamab",
        "glucagon",
        "glucarpidase",
        "glucose",
        "glutamine",
        "glyburide",
        "glycerin",
        "glycerol",
        "glycopyrrolate",
        "golimumab",
        "golodirsen",
        "gonadorelin",
        "goserelin",
        "granisetron",
        "griseofulvin",
        "guaifenesin",
        "guanfacine",
        "guanidine",
        "guselkumab",
        "haemophilus",
        "halcinonide",
        "halobetasol",
        "haloperidol",
        "hemin",
        "hemodialysis",
        "heparin",
        "hepatitis",
        "hetastarch",
        "hexachlorophene",
        "hexaminolevulinate",
        "hexylresorcinol",
        "histrelin",
        "homatropine",
        "house",
        "human",
        "hyaluronate",
        "hyaluronidase",
        "hydralazine",
        "hydrochlorothiazide",
        "hydrocodone",
        "hydrocortisone",
        "hydrogen",
        "hydromorphone",
        "hydroquinone",
        "hydroxocobalamin",
        "hydroxyamphetamine",
        "hydroxychloroquine",
        "hydroxyprogesterone",
        "hydroxypropyl",
        "hydroxyurea",
        "hydroxyzine",
        "hyoscyamine",
        "ibalizumab",
        "ibandronate",
        "ibrexafungerp",
        "ibritumomab",
        "ibrutinib",
        "ibuprofen",
        "ibutilide",
        "icatibant",
        "icodextrin",
        "icosapent",
        "idarubicin",
        "idarucizumab",
        "idecabtagene",
        "idelalisib",
        "idursulfase",
        "ifosfamide",
        "iloperidone",
        "iloprost",
        "imatinib",
        "imetelstat",
        "imiglucerase",
        "imipenem",
        "imipramine",
        "imiquimod",
        "immune",
        "inavolisib",
        "inclisiran",
        "incobotulinumtoxina",
        "indacaterol",
        "indapamide",
        "indigo",
        "indium",
        "indocyanine",
        "indomethacin",
        "inebilizumab",
        "infliximab",
        "influenza",
        "ingenol",
        "inhaled",
        "inosine",
        "inotersen",
        "inotuzumab",
        "instant",
        "insulin",
        "interferon",
        "intravesical",
        "iobenguane",
        "iodinated",
        "iodine",
        "iodixanol",
        "iodoquinol",
        "ioflupane",
        "iohexol",
        "iomeprol",
        "iopamidol",
        "iopromide",
        "iothalamate",
        "ioversol",
        "ipilimumab",
        "ipratropium",
        "iptacopan",
        "irbesartan",
        "irinotecan",
        "iron",
        "isatuximab",
        "isavuconazole",
        "isocarboxazid",
        "isoflurane",
        "isoniazid",
        "isopropyl",
        "isoproterenol",
        "isosorbide",
        "isosulfan",
        "isotretinoin",
        "isoxsuprine",
        "isradipine",
        "istradefylline",
        "itraconazole",
        "ivabradine",
        "ivacaftor",
        "ivermectin",
        "ivosidenib",
        "ixabepilone",
        "ixazomib",
        "ixekizumab",
        "japanese",
        "ketamine",
        "ketoconazole",
        "ketoprofen",
        "ketorolac",
        "ketotifen",
        "labetalol",
        "lacosamide",
        "lactase",
        "lactated",
        "lactic",
        "lactobacillus",
        "lactulose",
        "lamivudine",
        "lamotrigine",
        "lanadelumab",
        "landiolol",
        "lanolin",
        "lanreotide",
        "lansoprazole",
        "lanthanum",
        "lapatinib",
        "laronidase",
        "larotrectinib",
        "lasmiditan",
        "latanoprost",
        "latanoprostene",
        "lazertinib",
        "lebrikizumab",
        "lecanemab",
        "ledipasvir",
        "lefamulin",
        "leflunomide",
        "lemborexant",
        "lenacapavir",
        "lenalidomide",
        "leniolisib",
        "lenvatinib",
        "letermovir",
        "letibotulinumtoxina",
        "letrozole",
        "leucovorin",
        "leuprolide",
        "levacetylleucine",
        "levalbuterol",
        "levamlodipine",
        "levetiracetam",
        "levobunolol",
        "levocetirizine",
        "levodopa",
        "levofloxacin",
        "levoketoconazole",
        "levoleucovorin",
        "levomepromazine",
        "levomilnacipran",
        "levonorgestrel",
        "levorphanol",
        "levothyroxine",
        "lidocaine",
        "lifileucel",
        "lifitegrast",
        "linaclotide",
        "linagliptin",
        "lincomycin",
        "lindane",
        "linezolid",
        "liothyronine",
        "lipid",
        "lipiodol",
        "liposomal",
        "liraglutide",
        "lisdexamfetamine",
        "lisinopril",
        "lisocabtagene",
        "lithium",
        "live",
        "lixisenatide",
        "l-lysine",
        "lodoxamide",
        "lofexidine",
        "lomitapide",
        "lomustine",
        "lonafarnib",
        "lonapegsomatropin",
        "loncastuximab",
        "loperamide",
        "lopinavir",
        "loratadine",
        "lorazepam",
        "lorlatinib",
        "losartan",
        "loteprednol",
        "lotilaner",
        "lovastatin",
        "lovotibeglogene",
        "loxapine",
        "lubiprostone",
        "luliconazole",
        "lumacaftor",
        "lumasiran",
        "lumateperone",
        "lurasidone",
        "lurbinectedin",
        "luspatercept",
        "lusutrombopag",
        "lutetium",
        "lutropin",
        "macimorelin",
        "macitentan",
        "mafenide",
        "magnesium",
        "malathion",
        "maltodextrin",
        "manganese",
        "mannitol",
        "maprotiline",
        "maralixibat",
        "maraviroc",
        "margetuximab",
        "maribavir",
        "marstacimab",
        "mavacamten",
        "mavorixafor",
        "measles",
        "mebendazole",
        "mecamylamine",
        "mecasermin",
        "mechlorethamine",
        "meclizine",
        "meclofenamate",
        "medical",
        "medium",
        "medroxyprogesterone",
        "mefenamic",
        "mefloquine",
        "megestrol",
        "melarsoprol",
        "meloxicam",
        "melphalan",
        "memantine",
        "meningococcal",
        "menotropins",
        "menthol",
        "meperidine",
        "mepivacaine",
        "mepolizumab",
        "meprobamate",
        "mercaptopurine",
        "meropenem",
        "mesalamine",
        "mesna",
        "metaxalone",
        "metformin",
        "methacholine",
        "methadone",
        "methamphetamine",
        "methazolamide",
        "methenamine",
        "methimazole",
        "methocarbamol",
        "methohexital",
        "methotrexate",
        "methoxsalen",
        "methoxy",
        "methoxyflurane",
        "methscopolamine",
        "methsuximide",
        "methyl",
        "methylcellulose",
        "methyldopa",
        "methylene",
        "methylergonovine",
        "methylfolate",
        "methylnaltrexone",
        "methylphenidate",
        "methylprednisolone",
        "methyltestosterone",
        "metoclopramide",
        "metolazone",
        "metoprolol",
        "metreleptin",
        "metronidazole",
        "metyrapone",
        "metyrosine",
        "mexiletine",
        "micafungin",
        "miconazole",
        "midazolam",
        "midodrine",
        "midostaurin",
        "mifepristone",
        "migalastat",
        "miglitol",
        "miglustat",
        "milnacipran",
        "milrinone",
        "miltefosine",
        "mineral",
        "minocycline",
        "minoxidil",
        "mirabegron",
        "mirdametinib",
        "mirikizumab",
        "mirtazapine",
        "mirvetuximab",
        "misoprostol",
        "mitapivat",
        "mitomycin",
        "mitotane",
        "mitoxantrone",
        "mixed-salt",
        "moclobemide",
        "modafinil",
        "moexipril",
        "mogamulizumab",
        "molindone",
        "molnupiravir",
        "momelotinib",
        "mometasone",
        "monomethyl",
        "montelukast",
        "morphine",
        "mosunetuzumab",
        "motixafortide",
        "moxidectin",
        "moxifloxacin",
        "multiple",
        "mupirocin",
        "mycophenolate",
        "nabilone",
        "nabumetone",
        "nadofaragene",
        "nadolol",
        "nadroparin",
        "nafarelin",
        "nafcillin",
        "naftifine",
        "nalbuphine",
        "naldemedine",
        "nalmefene",
        "naloxegol",
        "naloxone",
        "naltrexone",
        "nanoparticle",
        "naphazoline",
        "naproxen",
        "naratriptan",
        "natalizumab",
        "natamycin",
        "nateglinide",
        "naxitamab",
        "nebivolol",
        "necitumumab",
        "nedocromil",
        "nedosiran",
        "nefazodone",
        "nelarabine",
        "nelfinavir",
        "nemolizumab",
        "neomycin",
        "neostigmine",
        "nepafenac",
        "neratinib",
        "nesiritide",
        "netarsudil",
        "netupitant",
        "nevirapine",
        "niacin",
        "nicardipine",
        "nicotinamide",
        "nicotine",
        "nifedipine",
        "nifurtimox",
        "nilotinib",
        "nilutamide",
        "nimodipine",
        "nintedanib",
        "niraparib",
        "nirmatrelvir",
        "nirogacestat",
        "nirsevimab",
        "nisoldipine",
        "nitazoxanide",
        "nitisinone",
        "nitrazepam",
        "nitric",
        "nitrofurantoin",
        "nitrogen-13",
        "nitroglycerin",
        "nitroprusside",
        "nitrous",
        "nivolumab",
        "nizatidine",
        "nogapendekin",
        "nonoxynol-9",
        "norepinephrine",
        "norethindrone",
        "norfloxacin",
        "norgestrel",
        "normethadone",
        "north",
        "nortriptyline",
        "nusinersen",
        "nystatin",
        "obecabtagene",
        "obeticholic",
        "obiltoxaximab",
        "obinutuzumab",
        "ocrelizumab",
        "octreotide",
        "odevixibat",
        "ofatumumab",
        "ofloxacin",
        "olanzapine",
        "olaparib",
        "olezarsen",
        "oliceridine",
        "olipudase",
        "olmesartan",
        "olodaterol",
        "olopatadine",
        "olsalazine",
        "olutasidenib",
        "omacetaxine",
        "omadacycline",
        "omalizumab",
        "omaveloxolone",
        "ombitasvir",
        "omega-3-acid",
        "omeprazole",
        "omidenepag",
        "omidubicel",
        "onabotulinumtoxina",
        "onasemnogene",
        "ondansetron",
        "opicapone",
        "oral",
        "oritavancin",
        "orlistat",
        "orphenadrine",
        "oseltamivir",
        "osilodrostat",
        "osimertinib",
        "ospemifene",
        "oteseconazole",
        "ovine",
        "oxacillin",
        "oxaliplatin",
        "oxandrolone",
        "oxaprozin",
        "oxazepam",
        "oxcarbazepine",
        "oxiconazole",
        "oxidized",
        "oxybutynin",
        "oxychlorosene",
        "oxycodone",
        "oxygen",
        "oxymetazoline",
        "oxymetholone",
        "oxymorphone",
        "oxytocin",
        "ozanimod",
        "ozenoxacin",
        "paclitaxel",
        "pacritinib",
        "pafolacianine",
        "palbociclib",
        "palifermin",
        "paliperidone",
        "palivizumab",
        "palonosetron",
        "palopegteriparatide",
        "palovarotene",
        "pamabrom",
        "pamidronate",
        "pancrelipase",
        "panitumumab",
        "panobinostat",
        "pantoprazole",
        "papaverine",
        "para-aminosalicylic",
        "paraldehyde",
        "parenteral",
        "paricalcitol",
        "paromomycin",
        "paroxetine",
        "pasireotide",
        "patiromer",
        "patisiran",
        "pazopanib",
        "peanut",
        "pegademase",
        "pegaspargase",
        "pegcetacoplan",
        "pegfilgrastim",
        "pegloticase",
        "pegulicianine",
        "pegunigalsidase",
        "pegvaliase",
        "pegvisomant",
        "pegylated",
        "pembrolizumab",
        "pemetrexed",
        "pemigatinib",
        "pemivibart",
        "penciclovir",
        "penicillamine",
        "penicillin",
        "pentafluoropropane",
        "pentamidine",
        "pentastarch",
        "pentavalent",
        "pentazocine",
        "pentetate",
        "pentobarbital",
        "pentosan",
        "pentostatin",
        "pentoxifylline",
        "peramivir",
        "perampanel",
        "perfluorohexyloctane",
        "perflutren",
        "pericyazine",
        "perindopril",
        "peritoneal",
        "permethrin",
        "perphenazine",
        "pertuzumab",
        "pexidartinib",
        "phenazopyridine",
        "phendimetrazine",
        "phenelzine",
        "phenobarbital",
        "phenol",
        "phenoxybenzamine",
        "phentermine",
        "phentolamine",
        "phenylephrine",
        "phenytoin",
        "physostigmine",
        "piflufolastat",
        "pilocarpine",
        "pimavanserin",
        "pimecrolimus",
        "pimozide",
        "pinaverium",
        "pindolol",
        "pioglitazone",
        "piperacillin",
        "pirfenidone",
        "piroxicam",
        "pirtobrutinib",
        "pitavastatin",
        "pitolisant",
        "pivmecillinam",
        "pizotifen",
        "plasma",
        "plazomicin",
        "plecanatide",
        "plerixafor",
        "pneumococcal",
        "podofilox",
        "podophyllum",
        "polatuzumab",
        "polidocanol",
        "poliovirus",
        "polycarbophil",
        "polyethylene",
        "poly-l-lactic",
        "polymethylmethacrylate",
        "polymyxin",
        "polysaccharide-iron",
        "pomalidomide",
        "ponatinib",
        "ponesimod",
        "poractant",
        "porfimer",
        "posaconazole",
        "potassium",
        "povidone",
        "pozelimab",
        "prabotulinumtoxina",
        "pralatrexate",
        "pralidoxime",
        "pralsetinib",
        "pramipexole",
        "pramlintide",
        "pramoxine",
        "prasterone",
        "prasugrel",
        "pravastatin",
        "praziquantel",
        "prazosin",
        "prednicarbate",
        "prednisolone",
        "prednisone",
        "pregabalin",
        "pretomanid",
        "prilocaine",
        "primaquine",
        "primidone",
        "probenecid",
        "procainamide",
        "procarbazine",
        "prochlorperazine",
        "procyclidine",
        "progesterone",
        "promethazine",
        "propafenone",
        "propantheline",
        "proparacaine",
        "propiverine",
        "propofol",
        "propranolol",
        "propylhexedrine",
        "propylthiouracil",
        "protamine",
        "protein",
        "prothrombin",
        "protriptyline",
        "prucalopride",
        "pseudoephedrine",
        "psyllium",
        "pyrantel",
        "pyrazinamide",
        "pyrethrins",
        "pyridostigmine",
        "pyrimethamine",
        "quadrivalent",
        "quazepam",
        "quetiapine",
        "quinagolide",
        "quinapril",
        "quinidine",
        "quinine",
        "quinupristin",
        "quizartinib",
        "rabeprazole",
        "rabies",
        "racemic",
        "radium-223",
        "ragweed",
        "raloxifene",
        "raltegravir",
        "raltitrexed",
        "ramelteon",
        "ramipril",
        "ramucirumab",
        "ranibizumab",
        "ranitidine",
        "ranolazine",
        "rasagiline",
        "rasburicase",
        "ravulizumab",
        "raxibacumab",
        "recombinant",
        "regadenoson",
        "regorafenib",
        "relugolix",
        "remdesivir",
        "remestemcel-l",
        "remifentanil",
        "remimazolam",
        "repaglinide",
        "repotrectinib",
        "reslizumab",
        "resmetirom",
        "respiratory",
        "retapamulin",
        "reteplase",
        "retifanlimab",
        "revefenacin",
        "revumenib",
        "rezafungin",
        "ribavirin",
        "ribociclib",
        "riboflavin",
        "rifabutin",
        "rifampin",
        "rifamycin",
        "rifapentine",
        "rifaximin",
        "rilonacept",
        "rilpivirine",
        "riluzole",
        "rimabotulinumtoxinb",
        "rimantadine",
        "rimegepant",
        "riociguat",
        "ripretinib",
        "risankizumab",
        "risdiplam",
        "risedronate",
        "risperidone",
        "ritlecitinib",
        "ritonavir",
        "rituximab",
        "rivaroxaban",
        "rivastigmine",
        "rizatriptan",
        "rocuronium",
        "roflumilast",
        "rolapitant",
        "romidepsin",
        "romiplostim",
        "romosozumab",
        "ropeginterferon",
        "ropinirole",
        "ropivacaine",
        "rosiglitazone",
        "rosuvastatin",
        "rotavirus",
        "rotigotine",
        "rozanolixizumab",
        "rubidium",
        "rucaparib",
        "rufinamide",
        "rupatadine",
        "ruxolitinib",
        "saccharomyces",
        "sacituzumab",
        "sacrosidase",
        "sacubitril",
        "safinamide",
        "salmeterol",
        "salsalate",
        "samarium",
        "sapropterin",
        "saquinavir",
        "sarecycline",
        "sargramostim",
        "sarilumab",
        "satralizumab",
        "saxagliptin",
        "scopolamine",
        "sebelipase",
        "secnidazole",
        "secobarbital",
        "secretin",
        "secukinumab",
        "seladelpar",
        "selegiline",
        "selenium",
        "selexipag",
        "selinexor",
        "selpercatinib",
        "selumetinib",
        "semaglutide",
        "senna",
        "serdexmethylphenidate",
        "sertaconazole",
        "sertraline",
        "setmelanotide",
        "sevelamer",
        "sevoflurane",
        "sildenafil",
        "silodosin",
        "siltuximab",
        "silver",
        "silver-containing",
        "simeprevir",
        "simethicone",
        "simvastatin",
        "sincalide",
        "sinecatechins",
        "siponimod",
        "sipuleucel-t",
        "sirolimus",
        "sitagliptin",
        "smallpox",
        "sodium",
        "sofosbuvir",
        "sofpironium",
        "solifenacin",
        "solriamfetol",
        "somapacitan",
        "somatrogon",
        "sonidegib",
        "sorafenib",
        "sorbitol",
        "sotagliflozin",
        "sotalol",
        "sotatercept",
        "sotorasib",
        "sparsentan",
        "spesolimab",
        "spinosad",
        "spiramycin",
        "spironolactone",
        "standard",
        "stavudine",
        "stiripentol",
        "streptomycin",
        "streptozocin",
        "strontium-89",
        "succinylcholine",
        "sucralfate",
        "sucroferric",
        "sucrose",
        "sufentanil",
        "sugammadex",
        "sulbactam",
        "sulconazole",
        "sulfacetamide",
        "sulfadiazine",
        "sulfanilamide",
        "sulfasalazine",
        "sulfonated",
        "sulfur",
        "sulindac",
        "sulopenem",
        "sumatriptan",
        "sunitinib",
        "suramin",
        "sutimlimab",
        "suvorexant",
        "suzetrigine",
        "synthetic",
        "tacrolimus",
        "tadalafil",
        "tafamidis",
        "tafasitamab",
        "tafenoquine",
        "tafluprost",
        "tagraxofusp",
        "talazoparib",
        "talc",
        "taliglucerase",
        "talimogene",
        "talquetamab",
        "tamoxifen",
        "tamsulosin",
        "tapentadol",
        "tapinarof",
        "tarlatamab",
        "tasimelteon",
        "taurolidine",
        "tavaborole",
        "tazarotene",
        "tazemetostat",
        "tebentafusp",
        "technetium",
        "teclistamab",
        "tecovirimat",
        "tedizolid",
        "teduglutide",
        "telavancin",
        "telmisartan",
        "telotristat",
        "temazepam",
        "temozolomide",
        "temsirolimus",
        "tenapanor",
        "tenecteplase",
        "teniposide",
        "tenofovir",
        "tenoxicam",
        "teplizumab",
        "tepotinib",
        "teprotumumab",
        "terazosin",
        "terbinafine",
        "terbutaline",
        "terconazole",
        "teriflunomide",
        "teriparatide",
        "terlipressin",
        "tesamorelin",
        "testosterone",
        "tetanus",
        "tetrabenazine",
        "tetracaine",
        "tetracycline",
        "tetrahydrocannabinol",
        "tetrahydrozoline",
        "tetrastarch",
        "tezacaftor",
        "tezepelumab",
        "thalidomide",
        "thallium-201",
        "theophylline",
        "thioguanine",
        "thioridazine",
        "thiotepa",
        "thiothixene",
        "thonzylamine",
        "thrombin",
        "thyroid",
        "thyrotropin",
        "tiagabine",
        "tiaprofenic",
        "tibolone",
        "ticagrelor",
        "tick-borne",
        "ticlopidine",
        "tigecycline",
        "tildrakizumab",
        "timolol",
        "timothy",
        "tinidazole",
        "tinzaparin",
        "tioconazole",
        "tiopronin",
        "tiotropium",
        "tipranavir",
        "tirbanibulin",
        "tirofiban",
        "tirzepatide",
        "tisagenlecleucel",
        "tislelizumab",
        "tisotumab",
        "tivozanib",
        "tizanidine",
        "tobramycin",
        "tocilizumab",
        "tofacitinib",
        "tofersen",
        "tolbutamide",
        "tolcapone",
        "tolmetin",
        "tolnaftate",
        "tolterodine",
        "tolvaptan",
        "topical",
        "topiramate",
        "topotecan",
        "toremifene",
        "toripalimab",
        "torsemide",
        "tovorafenib",
        "trabectedin",
        "trace",
        "tralokinumab",
        "tramadol",
        "trametinib",
        "trandolapril",
        "tranexamic",
        "tranylcypromine",
        "trastuzumab",
        "travelersâ€™",
        "travoprost",
        "trazodone",
        "tremelimumab",
        "treosulfan",
        "treprostinil",
        "tretinoin",
        "triamcinolone",
        "triamterene",
        "triazolam",
        "trichloroacetic",
        "trichophyton",
        "triclabendazole",
        "triclosan",
        "trientine",
        "trifarotene",
        "trifluoperazine",
        "trifluridine",
        "triheptanoin",
        "trihexyphenidyl",
        "trilaciclib",
        "trimebutine",
        "trimeprazine",
        "trimethobenzamide",
        "trimethoprim",
        "trimethoprim-sulfamethoxazole",
        "trimipramine",
        "triprolidine",
        "triptorelin",
        "trivalent",
        "trofinetide",
        "trolamine",
        "tromethamine",
        "tropicamide",
        "trospium",
        "trypan",
        "trypsin",
        "tryptophan",
        "tuberculin",
        "tucatinib",
        "typhoid",
        "ublituximab",
        "ubrogepant",
        "ulipristal",
        "umeclidinium",
        "undecylenic",
        "upadacitinib",
        "urea",
        "uridine",
        "urine-derived",
        "ursodeoxycholic",
        "ustekinumab",
        "vaccinia",
        "vadadustat",
        "valacyclovir",
        "valbenazine",
        "valganciclovir",
        "valoctocogene",
        "valproate",
        "valrubicin",
        "valsartan",
        "vamorolone",
        "vancomycin",
        "vandetanib",
        "vanzacaftor",
        "vardenafil",
        "varenicline",
        "varicella",
        "varicella-zoster",
        "vasopressin",
        "vecuronium",
        "vedolizumab",
        "velaglucerase",
        "velmanase",
        "vemurafenib",
        "venetoclax",
        "venlafaxine",
        "verapamil",
        "vericiguat",
        "vernakalant",
        "verteporfin",
        "vestronidase",
        "vibegron",
        "vigabatrin",
        "vilazodone",
        "vilobelimab",
        "viloxazine",
        "viltolarsen",
        "vimseltinib",
        "vinblastine",
        "vincristine",
        "vindesine",
        "vinorelbine",
        "vismodegib",
        "vitamin",
        "voclosporin",
        "von",
        "vonoprazan",
        "vorapaxar",
        "vorasidenib",
        "voretigene",
        "voriconazole",
        "vorinostat",
        "vortioxetine",
        "vosoritide",
        "voxelotor",
        "vutrisiran",
        "warfarin",
        "wheat",
        "white",
        "witch",
        "xanomeline",
        "xenon",
        "xylometazoline",
        "yellow",
        "zafirlukast",
        "zaleplon",
        "zanamivir",
        "zanidatamab",
        "zanubrutinib",
        "zavegepant",
        "zenocutuzumab",
        "ziconotide",
        "zidovudine",
        "zileuton",
        "zilucoplan",
        "zinc",
        "ziprasidone",
        "zolbetuximab",
        "zoledronic",
        "zolmitriptan",
        "zolpidem",
        "zonisamide",
        "zopiclone",
        "zuclopenthixol",
        "zuranolone"
    ];

    bool found = false;

    for (String line in lines) {
      String lowercaseLine = line.toLowerCase();
      int index = 0;

      if (lowercaseLine.contains(" "))
      {
        index = lowercaseLine.indexOf(" ");
      }
      else
      {
        index = lowercaseLine.length;
      }

      for (String med in meds) {
        if (lowercaseLine.substring(0, index).contains(med)) {
          category = line;
          found = true;
          break;
        }
      }
      if (found) break;
    }

    final newItem = Item.fromFile(
      image: _selectedImage!,
      description: category + "\n" + style + "\n" + valuation,
      category: category,
      style: style,
      valuation: valuation,
    );
    Navigator.pop(context, newItem);
  }

  @override
  Widget build(BuildContext context) {
    return FractionallySizedBox(
      heightFactor: 0.95,
      child: Scaffold(
        appBar: AppBar(
          title: Text('Add new Element'),
          leading: IconButton(
            icon: Icon(Icons.close),
            onPressed: () {
              Navigator.pop(context);
            },
          ),
          actions: [
            IconButton(
              icon: Icon(Icons.check),
              onPressed: _saveItem,
            ),
          ],
        ),
        body: SingleChildScrollView(
          child: Column(
            children: [
              const SizedBox(height: 20),
              GestureDetector(
                onTap: _showImageSourceDialog,
                child: Container(
                  width: 150,
                  height: 150,
                  decoration: BoxDecoration(
                    color: Colors.grey[300],
                    borderRadius: BorderRadius.circular(8),
                  ),
                  child: _selectedImage != null
                      ? ClipRRect(
                          borderRadius: BorderRadius.circular(8),
                          child: Image.file(
                            _selectedImage!,
                            fit: BoxFit.contain,
                          ),
                        )
                      : const Icon(
                          Icons.image,
                          size: 50,
                          color: Colors.grey,
                        ),
                ),
              ),
              Padding(
                padding:
                    const EdgeInsets.symmetric(horizontal: 20, vertical: 16),
                child: TextField(
                  controller: _descriptionController,
                  maxLines: 5, // Allow multiple lines
                  keyboardType:
                      TextInputType.multiline, // Enable multiline input
                  decoration: InputDecoration(
                    hintText: 'Enter your description',
                    border: OutlineInputBorder(),
                    alignLabelWithHint: true, // Align hint with the first line
                    contentPadding: EdgeInsets.all(16), // Add some padding
                  ),
                ),
              ),
            ],
          ),
        ),
      ),
    );
  }

  @override
  void dispose() {
    _textRecognizer.close();
    _descriptionController.dispose();
    _categoryController.dispose();
    _styleController.dispose();
    _valuationController.dispose();
    super.dispose();
  }
}

